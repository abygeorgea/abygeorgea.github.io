<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Writing Tests in Postman - Aby George A</title>
  <meta name="author" content="Aby George A">

  <meta name="description" content="How to use Chai for writing postman tests">
  <meta name="keywords" content="How to use Chai for writing postman tests">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.abygeorgea.com/blog/2018/05/03/writing-tests-in-postman/">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Aby George A" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://www.abygeorgea.com/blog/2018/05/03/writing-tests-in-postman/">
  <meta property="og:title" content="Writing Tests in Postman - Aby George A">
  <meta property="og:description" content="How to use Chai for writing postman tests">

  <script src="/javascripts/libs/jquery/jquery-2.1.3.min.js"></script>

<link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">


  
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-99127431-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

  <body   >
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" title="toggle navbar" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Aby George A</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a rel="index" href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
				<li >
                    <a href="/resources">Resources</a>
                </li>
				<li >
                    <a href="/about">About Me</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="sitesearch" value="www.abygeorgea.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" role="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Aby George A" />
    <meta itemprop="description" content="My thoughts on Test Automation . This blog is mainly for documenting my learning on Test automation . I intend to have this as a go to location for finding solutions for the problem faced by me in past . Hopefully this will help others as well." />
    <meta itemprop="url" content="http://www.abygeorgea.com" />
    <article class="hentry" role="article" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2018-05-03T21:05:00+10:00"  data-updated="true" itemprop="datePublished dateCreated"> 3 May, 2018</time>
        
      </p>
    
    
    <h1 class="entry-title" itemprop="name headline">
        Writing Tests in Postman
        
    </h1>
    
  </header>


<div class="entry-content clearfix" itemprop="articleBody description"><p>In previous blog <a href="/blog/2018/04/28/postman-bdd/">post</a>, we saw how to use BDD format for writing test cases in postman. Most important part of writing tests in postman is understanding various features available. Let us explore various options available . The examples specified in postman <a href="https://documenter.getpostman.com/view/220187/postman-bdd-examples/6Z3uY71#30dfc9d2-5de4-b932-db3e-641c29fb0459">documentation</a>, have lot of information about how to setup postman bdd, use chai http assertions, create custom assertions and use before and after hooks. Please import them into postman and try that by yourself to familiarise with postman BDD. Below is only few examples from them.</p>

<p>Postman BDD makes use of Chai Assertion Library and Chai-Http. We have access to both libray and postman scripting environment for writing test cases. Chai has two types of assertion styles.</p>

<ul>
<li><code>Expect/should</code> for BDD</li>
<li><code>Assert</code> for TDD</li>
</ul>


<p>Both styles support chainable language to construct assertions. We can use both of them to write postman test assertions. If you need details of all chainable constructs, please refer to their <a href="http://www.chaijs.com/api/bdd/">documentation</a>. Major ones which we may use in postman tests are</p>

<ul>
<li><p>Chains</p>

<pre><code>  to
  be
  been
  is
  that
  which
  and
  has
  have
  with
  at
  of
  same
  but
  does
</code></pre></li>
<li><p>Not - Negates all conditions</p></li>
<li>any -</li>
<li>all -</li>
<li>inlcude</li>
<li>OK</li>
<li>true</li>
<li>false</li>
<li>null</li>
<li>undefined</li>
<li>exist</li>
<li>empty</li>
<li>match(re[, msg])</li>
</ul>


<p>Chai-Http module provide various assertions. Read through their documentation <a href="https://github.com/chaijs/chai-http#assertions">here</a> to know details. Below are main commands at our disposal for validation .</p>

<ul>
<li>.status(code)</li>
<li>.header (key[, value])</li>
<li>.headers</li>
<li>.ip</li>
<li>.json / .text / .html</li>
<li>.redirect</li>
<li>.param</li>
<li>.cookie</li>
</ul>


<p>Postman bdd provide <code>response</code> object on which we do most of assertions. It will have all information like response.text, response.body, response.status, response.ok , response.error. Postman BDD will automatically parse JSON and XML responses and hence there is no need to call JSON.parse() or xml2json(). response.text will have unparsed content. It also have automatic error handling , which will allow to continue with other test even if something fails.</p>

<p>Examples for various assertions done on response object are below</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>\\Verifying Header information
</span><span class='line'>expect(response).to.have.status(500);
</span><span class='line'>expect(response).to.have.header('x-api-key');
</span><span class='line'>expect(response).to.have.header('content-type', 'text/plain');
</span><span class='line'>expect(request).to.have.header('content-type', /^text/);
</span><span class='line'>expect(response).to.have.headers;
</span><span class='line'>expect('127.0.0.1').to.be.an.ip;
</span><span class='line'>
</span><span class='line'>\\Verifying Response body
</span><span class='line'>expect(response).to.be.json;
</span><span class='line'>expect(response).to.be.html;
</span><span class='line'>expect(response).to.be.text;
</span><span class='line'>
</span><span class='line'>response.should.have.status(200); 
</span><span class='line'>response.body.should.not.be.empty;
</span><span class='line'>response.ok.should.be.true;            // sucess with code 2XX
</span><span class='line'>response.error.should.be.true; //failures
</span><span class='line'>
</span><span class='line'>\\Verifying request
</span><span class='line'>expect(req).to.have.param('orderby', 'date');
</span><span class='line'>expect(req).to.not.have.param('orderby');
</span><span class='line'>expect(req).to.have.cookie('session_id', '1234');
</span><span class='line'>expect(req).to.not.have.cookie('PHPSESSID');
</span><span class='line'>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>If we use above assertions in proper BDD format, it will look like below</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>eval(globals.postmanBDD);
</span><span class='line'>describe('Example for Blog using SHOULD', function(){
</span><span class='line'>   it("Tests using SHOULD", function() {
</span><span class='line'>      response.should.have.status(200); 
</span><span class='line'>      response.should.not.be.empty;
</span><span class='line'>      response.should.have.header('content-type', 'application/json; charset=utf-8');
</span><span class='line'>      response.type.should.equal('application/json');
</span><span class='line'>      
</span><span class='line'>      var user = response.body.results[0];
</span><span class='line'>      user.name.should.be.an('object');
</span><span class='line'>      user.name.should.have.property('first').and.not.empty;
</span><span class='line'>      //user.name.should.have.property('first','david');
</span><span class='line'>      user.should.have.property('gender','male');
</span><span class='line'>   
</span><span class='line'>   
</span><span class='line'>   }) 
</span><span class='line'>})
</span><span class='line'>describe('Example for Blog using Expect', function(){
</span><span class='line'>   it("Tests using EXPECT", function() {
</span><span class='line'>      expect(response).to.have.status(200);
</span><span class='line'>      expect(response).not.empty;
</span><span class='line'>      expect(response).to.be.json;
</span><span class='line'>      expect(response).to.have.header('content-type', 'application/json; charset=utf-8');
</span><span class='line'>   }) 
</span><span class='line'>})
</span><span class='line'>
</span><span class='line'>it('should contain the un-parsed JSON text', () =&gt; {
</span><span class='line'>    response.text.should.be.a('string').with.length.above(50);
</span><span class='line'>    response.text.should.contain('"results":[');
</span><span class='line'>});
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/2018/05/03/postman%20bdd.png" alt="Postman" /></p>
</div>


      <footer>
        <p class="meta text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Posted by <span class="fn" itemprop="name">Aby George A</span></span>

          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2018-05-03T21:05:00+10:00"  data-updated="true" itemprop="datePublished dateCreated"> 3 May, 2018</time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/blog/categories/newman/'>newman</a>, <a class='category' href='/blog/categories/postman/'>postman</a>
  
</span>


        </p>
        
          <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.abygeorgea.com/blog/2018/05/03/writing-tests-in-postman/" data-via="" data-counturl="http://www.abygeorgea.com/blog/2018/05/03/writing-tests-in-postman/" >Tweet</a>
  
  
  
</div>

        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2018/04/28/postman-bdd/" title="Previous Post: Postman BDD">&laquo; Postman BDD</a></li>
            
            
            <li class="next"><a href="/blog/2018/05/11/ui-automation-with-cypress/" title="Next Post: UI Automation with cypress">UI Automation with cypress &raquo;</a></li>
            
          </ul>
        
      </footer>
    </article>
    
      <section>
        <h2>Comments</h2>
        <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
      </section>
    
  </div>

  
  <aside class="sidebar col-md-3">
    
      <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Categories</h3>
  </div>
  <div class="list-group">
    
    
    <a class="list-group-item " href="/blog/categories/codesnippets/index.html">
        <span class="badge">5</span>
        codesnippets
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/java/index.html">
        <span class="badge">2</span>
        java
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/excel/index.html">
        <span class="badge">3</span>
        excel
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/selenium/index.html">
        <span class="badge">4</span>
        selenium
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/volunteering/index.html">
        <span class="badge">1</span>
        volunteering
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/nodejs/index.html">
        <span class="badge">1</span>
        nodejs
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/data-driven-testing-framework/index.html">
        <span class="badge">3</span>
        data driven testing framework
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/selenium-webdriver/index.html">
        <span class="badge">3</span>
        selenium webdriver
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/xml/index.html">
        <span class="badge">1</span>
        xml
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/specflow/index.html">
        <span class="badge">6</span>
        specflow
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/bdd/index.html">
        <span class="badge">1</span>
        bdd
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/element-identification/index.html">
        <span class="badge">4</span>
        element identification
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/nunit/index.html">
        <span class="badge">3</span>
        nunit
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/git/index.html">
        <span class="badge">2</span>
        git
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/powershell/index.html">
        <span class="badge">2</span>
        powershell
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/mountebank/index.html">
        <span class="badge">8</span>
        mountebank
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/service-virtualisation/index.html">
        <span class="badge">5</span>
        service virtualisation
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/octopress/index.html">
        <span class="badge">1</span>
        octopress
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/octostrap3/index.html">
        <span class="badge">1</span>
        octostrap3
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/galen/index.html">
        <span class="badge">2</span>
        galen
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/javascript/index.html">
        <span class="badge">1</span>
        javascript
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/postman/index.html">
        <span class="badge">5</span>
        postman
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/newman/index.html">
        <span class="badge">4</span>
        newman
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/conference/index.html">
        <span class="badge">1</span>
        conference
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/test/index.html">
        <span class="badge">1</span>
        test
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/automation/index.html">
        <span class="badge">1</span>
        automation
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/agile/index.html">
        <span class="badge">1</span>
        agile
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/service-virtualization/index.html">
        <span class="badge">1</span>
        service virtualization
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/accessibility/index.html">
        <span class="badge">1</span>
        accessibility
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/testing/index.html">
        <span class="badge">1</span>
        testing
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/team-city/index.html">
        <span class="badge">1</span>
        team city
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/metrics/index.html">
        <span class="badge">1</span>
        metrics
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/gulp/index.html">
        <span class="badge">1</span>
        gulp
      </a>
    
    
    <a class="list-group-item " href="/blog/categories/cypress/index.html">
        <span class="badge">1</span>
        cypress
      </a>
    
  </div>
</section><section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2018/05/11/ui-automation-with-cypress/">UI Automation With Cypress</a>
    
    <a class="list-group-item active" href="/blog/2018/05/03/writing-tests-in-postman/">Writing Tests in Postman</a>
    
    <a class="list-group-item " href="/blog/2018/04/28/postman-bdd/">Postman BDD</a>
    
    <a class="list-group-item " href="/blog/2018/03/20/gulp-task-for-running-automated-test/">Gulp Task for Running Automated Test</a>
    
    <a class="list-group-item " href="/blog/2018/03/01/extracting-metrics-from-teamcity/">Extracting Metrics From TeamCity</a>
    
  </div>
</section>

<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating...</p>
  </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'abygeorgea',
            count: 2,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2018 - Aby George A<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'abygeorgea';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.abygeorgea.com/blog/2018/05/03/writing-tests-in-postman/';
        var disqus_url = 'http://www.abygeorgea.com/blog/2018/05/03/writing-tests-in-postman/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr.js"></script>


	
  </body>
</html>
